// Generated by LiveScript 1.5.0
var R, load, toInt;
R = require('ramda');
load = require('../modules/tasks');
toInt = require('../functions/to-int');
module.exports = function(args, options, log, path){
  var tasks, this$ = this;
  tasks = load(path);
  R.when(function(it){
    return it;
  }, function(arg$){
    var task;
    task = arg$[0];
    log.info(task.name + " is done");
    return task.done();
  })(
  function(it){
    return it.doing || it['new'];
  }(
  R.groupBy(function(it){
    return it.status;
  })(
  tasks.tasks)));
  return tasks.save();
};