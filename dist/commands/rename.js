// Generated by LiveScript 1.5.0
var load, toInt;
load = require('../modules/tasks');
toInt = require('../functions/to-int');
module.exports = function(args, _, log, path){
  var sid, name, tasks, id, task;
  sid = args.id, name = args.name;
  tasks = load(path);
  id = toInt(
  sid);
  task = tasks.find(id);
  switch (false) {
  case !!task:
    return log.info("[Error] not found task (id = " + id + ")");
  case name !== task.name:
    return log.info("[Rename] " + id + ": " + name + " (already " + JSON.stringify(name) + ")");
  default:
    log.info("[Rename] " + id + ": " + name + " (old: " + JSON.stringify(task.name) + ")");
    task.update({
      name: name
    });
    return tasks.save();
  }
};