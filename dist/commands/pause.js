// Generated by LiveScript 1.5.0
var shortList, load, toInt;
shortList = require('../functions/short-list');
load = require('../modules/tasks');
toInt = require('../functions/to-int');
module.exports = function(args, options, log, path){
  var ids, all, tasks, this$ = this;
  ids = args.ids;
  all = options.all;
  tasks = load(path);
  switch (false) {
  case !all:
    tasks.tasks.filter(function(it){
      return it.status === 'doing';
    }).forEach(function(task){
      log.info("[Pause] " + task.id + ": " + task.name + "  (" + task.status + " -> new)");
      return task.update({
        status: 'new'
      });
    });
    break;
  default:
    ids.map(toInt).forEach(function(id){
      var task;
      task = tasks.find(id);
      switch (false) {
      case !!task:
        return log.info("[Error] not found task (id = " + id + ")");
      case task.status !== 'new':
        return log.info("[Error] " + task.id + ": " + task.name + " (already " + task.status + ")");
      default:
        log.info("[Pause] " + task.id + ": " + task.name + " (" + task.status + " -> new)");
        return task.update({
          status: 'new'
        });
      }
    });
  }
  return tasks.save();
};